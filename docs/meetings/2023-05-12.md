---
title: LibreMesh Tecnical Meeting
---

# 2023-05-12 TECH MEETING

**People & list of topics**

Cri, Gothos, ArinÃ§, DangoWrt, notplants, Catuaba, Ilario, Ivana, Sergey, robbe, Jesi, Ivan, Cypherhippie, txt.file
    
* how to connect a new device
* how to use cable connections, wan and mesh
* list of mesh routing protocols

- batman-adv on layer-2

- babeld per default on layer-3, but also bmx6 an bmx7 are in active use, olsrd is also supported but probably not use anywhere


situations for which routing protocol 
how to understand which interface is which (example interface list: https://pad.commoninternet.net/p/lr-interfaces)
process to build the firmware on top of OpenWrt 22.03
still present bug on LibreMesh support of OpenWrt 22.03

* web interface bugs, something changed between 19.07 and 22.03 and things are broken now... we will fix it last once everything else works

* thisnode.info (anygw) doesn't work well to connect to next router when conneting via wired link

* diagnostic info (traceroute?)

* thisnode.info (anygw) should have been fixed now by p0ny

* pirania captive portal may need adjustment to nftables

* tell babeld to silently ignore interfaces which are down or without addresses (log spam)

* wireless band names have changed (not very important)

* dependency mess of wpad-*

imagebuiler support status

* x86 images are broken?

* config.buildinfo? => it's next to where you downloaded ImageBuilder

* config.buildinfo? Doesn't it should change if I add feeds and rebuild? => but then you should also have a new ImageBuilder. If you are only building a single feed from source, then this would change config.buildinfo, but it cannot be easily merged or represented again in a single file

* bzImage for x86 (needed for qemu) is missing => using *generic-kernel.bin instead and it works

* BATMAN V protocol doesn't work well in situations when ExpectedThroughput is not available from the hardware. Also hidden-link behind a wifi-link can limit bandwidth and is not discovered by BATMAN V.


Altermundi roadmap
how to isolate your home network if you do not want to have people from the mesh to see your local shares or reach your printer

## How to connect a new device
as a community approach of managing mesh, so if you are 1 probably libremesh is overkill, but you can use as range extender for example. you flash 2 devices and you try. minimal configuraion. the difficult is at the begin to flashing the device but after you should not need a tech team. also Lime is modular. double mesh protocol, in layer 2 batman and 3 with babbeld. you isolate the layer 3 in your house or the place that you want isolated. 

## How to use cable connections, wan and mesh
wan just plug and works...
LAN-LAN if you connect two libremesh nodes via their LAN ports with a cable, you should configure the port for not being included in the br-lan bridge, see https://github.com/libremesh/network-profiles/commit/57eeae71781abb2403ff61afda9ca7d2664bfc7e
anyway, modern routers have a chip that cuts the loops or the CPU should realize and stop the loops

## How to understand which interface is which

ip6tnl created by a kernel module even if not used
ifb0 for traffic shaping
br-lan switch
dummy0 fake interface for having a stable MAC that does not depend on interfaces going up or down
eth0.1 virtual interface with all the LAN ports
anygw a dummy interface, member of br-lan

https://openwrt.org/playground/arinc9/network.interfaces

## Still present bug on LibreMesh support of OpenWrt 22.03

lime app with some issues, coneco is workin on this. 
https://github.com/libremesh/lime-app/issues/378

connecting by cable to a router connected by cable
and using the thisnode.info IP, all the wire-connected nodes answer, breaking ssh connections
bug present also in previous versions!!!
https://github.com/libremesh/lime-packages/issues/1008
it could have been fixed by Pony

we need a filter for babeld over batman

babeld is complaining a lot
https://github.com/libremesh/lime-packages/issues/1003

wpad-* for mesh encryption has a weird Makefile that makes thing complicated to select in menuconfig
https://github.com/openwrt/openwrt/issues/8312
one option, to write what you want in the .config:
https://github.com/libremesh/network-profiles/blob/master/calafou/indoor2/DOTconfig-xiaomi_mirouter_4A_gigabit_edition

## Imagebuiler support status

aparcar added documentation for using the ImageBuilder in the readme:
https://github.com/libremesh/lime-packages/blob/master/README.md#using-the-imagebuilder

gothos: using it with x86 does not work on qemu

documentation on network-profiles
https://libremesh.org/development-network_profiles.html
https://github.com/libremesh/network-profiles/tree/master/calafou

## Company for stickers

german company
explain them the project, they are community-friendly
https://www.stickma.de/
